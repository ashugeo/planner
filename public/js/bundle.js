/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/js/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/js/calendars.js":
/*!*****************************!*\
  !*** ./src/js/calendars.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _calendars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calendars */ \"./src/js/calendars.js\");\n/* harmony import */ var _dates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dates */ \"./src/js/dates.js\");\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./selection */ \"./src/js/selection.js\");\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    calendarID: 0,\n\n    init() {\n        // Update calendars start and end\n        $(document).on('change', '#start, #end', () => {\n            const calendar = this.buildCalendar();\n\n            $('.calendar-wrap .content').html(calendar);\n            $('.calendars-wrap .calendar .content').html(calendar);\n        });\n\n        // Switch calendar\n        $(document).on('mousedown', '.calendars-wrap .calendar .content', e => {\n            const $calendar = $(e.target).closest('.calendar');\n            _calendars__WEBPACK_IMPORTED_MODULE_0__[\"default\"].selectCalendar($calendar);\n        });\n\n        // Add new calendar\n        $(document).on('click', '.calendars-wrap .add', () => {\n            _calendars__WEBPACK_IMPORTED_MODULE_0__[\"default\"].newCalendar();\n        });\n\n        // Rename calendar in sidebar\n        $(document).on('input', '.calendars-wrap p span', e => {\n            const $calendar = $(e.target).closest('.calendar');\n            const val = $(e.target).text();\n            _calendars__WEBPACK_IMPORTED_MODULE_0__[\"default\"].renameCalendar(val, $calendar);\n        });\n\n        // Rename selected calendar\n        $(document).on('input', '.calendar-wrap h2', e => {\n            const val = $(e.target).text();\n            _calendars__WEBPACK_IMPORTED_MODULE_0__[\"default\"].renameCalendar(val);\n        });\n\n        // Toggle calendar visibility\n        $(document).on('click', '.calendars-wrap [data-tool=\"toggle\"]', e => {\n            const $calendar = $(e.target).closest('.calendar');\n            _calendars__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toggleCalendar($calendar);\n        });\n\n        // Duplicate calendar\n        $(document).on('click', '.calendar .tools [data-tool=\"duplicate\"]', e => {\n            const $calendar = $(e.target).closest('.calendar')\n            _calendars__WEBPACK_IMPORTED_MODULE_0__[\"default\"].duplicateCalendar($calendar);\n        });\n\n        // Delete calendar\n        $(document).on('click', '.calendar .tools [data-tool=\"delete\"]', e => {\n            const $calendar = $(e.target).closest('.calendar');\n            _calendars__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteCalendar($calendar);\n        });\n        \n        // Initiate with first calendar\n        const calendar = this.buildCalendar();\n        $('.calendar-wrap .content').html(calendar);\n        $('.calendars-wrap .calendar .content').html(calendar);\n    },\n\n    buildCalendar() {\n        // Get start and end dates\n        const start = new Date(new Date($('#start').val()).setHours(0));\n        const end = new Date(new Date($('#end').val()).setHours(0));\n        if (end < start) return;\n    \n        // Find first week day\n        const first = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].relativeFirstWeekDay(start);\n\n        // Create range from first day to end\n        const days = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].range(first, end);\n    \n        // Fill last week\n        while (days.length % 7 !== 0) days.push(new Date(new Date(days[days.length - 1].valueOf()).setDate(days[days.length - 1].getDate() + 1)));\n    \n        // Build HTML\n        let html = '<div>';\n        for (const day of days) {\n            const date = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(day);\n            day.setHours(0);\n\n            // Show day cell as out of bounds if necessary\n            const classname = day < start || day > end ? ' out' : '';\n    \n            html += `<div class=\"day${classname}\" data-date=\"${date}\"><span>${day.getDate()} ${day.toLocaleDateString('en-US', { month: 'short' })}</span><div class=\"events\"></div></div>`;\n    \n            if (day.getDay() === 0) html += '</div><div>';\n        }\n        html += '</div>';\n    \n        return html;\n    },\n\n    newCalendar() {\n        // Create HTML\n        const calendar = `<div class=\"calendar sortable\" data-id=\"${++this.calendarID}\">\n            <div class=\"tools\">\n                <i data-tool=\"toggle\" class=\"far fa-eye\"></i>\n                <i data-tool=\"sort\">⋮⋮</i>\n                <i data-tool=\"duplicate\" class=\"far fa-clone\"></i>\n                <i data-tool=\"delete\" class=\"far fa-trash-alt\"></i>\n            </div>\n            <div class=\"content\">${ this.buildCalendar() }</div>\n            <p><span contenteditable spellcheck=\"false\">Calendar ${$('.calendars-wrap .calendar').length + 1}</span></p>\n        </div>`;\n        \n        $('.calendars-wrap .calendars').append(calendar);\n\n        // Select new calendar\n        const $calendar = $('.calendars-wrap .calendar:last-child');\n        this.selectCalendar($calendar);\n    },\n\n    duplicateCalendar($calendar) {\n        const $new = $calendar.clone();\n\n        // Remove selected class and rename with 'copy'\n        $new.removeClass('selected');\n        $new.find('p span').append(' copy');\n\n        // Reindex new calendar\n        $new.attr('data-id', ++this.calendarID);\n\n        // Clone calendar\n        $calendar.after($new);\n\n        // Unselect any selection\n        window.getSelection().removeAllRanges();\n    },\n\n    selectCalendar($calendar) {\n        $('.calendars-wrap .calendar.selected').removeClass('selected');\n        $calendar.addClass('selected');\n    \n        // Update ID\n        $('.calendar-wrap .content').attr('data-id', $calendar.attr('data-id'));\n    \n        // Update title\n        $('.calendar-wrap h2').html($calendar.find('p span').html());\n    \n        // Update main calendar\n        $('.calendar-wrap .content').html($calendar.find('.content').html());\n    \n        // Unselect any selection\n        window.getSelection().removeAllRanges();\n    \n        _selection__WEBPACK_IMPORTED_MODULE_2__[\"default\"].highlightSelection();\n    },\n\n    renameCalendar(val, $calendar = null) {\n        if ($calendar) {\n            // Edited in sidebar, replace in main\n            if ($calendar.hasClass('selected')) {\n                $('.calendar-wrap h2').text(val);\n            }\n        } else {\n            // Edited in main, replace in sidebar\n            $('.calendars-wrap .calendar.selected p span').text(val);\n        }\n    },\n\n    toggleCalendar($calendar) {\n        $calendar.toggleClass('hidden');\n        this.selectAnotherCalendar($calendar);\n    },\n\n    deleteCalendar($calendar) {\n        this.selectAnotherCalendar($calendar);\n        $calendar.remove();\n    },\n\n    selectAnotherCalendar($calendar) {\n        // Select next (or previous) visible calendar\n        if ($calendar.hasClass('selected')) {\n            const $calendarToSelect = $calendar.nextAll(':not(.hidden)').eq(0).length ? $calendar.nextAll(':not(.hidden)').eq(0) : $calendar.prevAll(':not(.hidden)').length ? $calendar.prevAll(':not(.hidden)').eq(0) : null;\n            if ($calendarToSelect) this.selectCalendar($calendarToSelect);\n        }\n    },\n\n    updateCalendarHeight() {\n        const mostEventsPerDay = Math.max(...$('.calendar-wrap .day .events').map((id, el) => $(el).find('.event').length));\n        $('.calendar-wrap .day').css('height', `${Math.max(40 + mostEventsPerDay * 32, 72)}px`);\n    }\n});\n\n//# sourceURL=webpack:///./src/js/calendars.js?");

/***/ }),

/***/ "./src/js/dates.js":
/*!*************************!*\
  !*** ./src/js/dates.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    toString(date) {\n        return `${date.getFullYear()}-${`${date.getMonth() + 1}`.padStart(2, '0')}-${`${date.getDate()}`.padStart(2, '0')}`;\n    },\n\n    isInArray(arr, date) {\n        return arr.some(d => d.getTime() === date.getTime());\n    },\n\n    relativeDate(date, n) {\n        return new Date(new Date(date).setDate(date.getDate() + n));\n    },\n\n    relativeFirstWeekDay(date) {\n        return new Date(new Date(date).setDate(date.getDate() - date.getDay() + (date.getDay() === 0 ? -6 : 1)));\n    },\n\n    // Build array of all days from start to end\n    range(start, end) {\n        const days = [start];\n        while (days[days.length - 1] < end) days.push(new Date(new Date(days[days.length - 1].valueOf()).setDate(days[days.length - 1].getDate() + 1)));\n        return days;\n    },\n\n    findLowestWeekDay(arr) {\n        return Math.min(...arr.map(d => d.getDay()).map(w => w === 0 ? 7 : w));\n    },\n\n    findHighestWeekDay(arr) {\n        return Math.max(...arr.map(d => d.getDay()).map(w => w === 0 ? 7 : w));\n    }\n});\n\n//# sourceURL=webpack:///./src/js/dates.js?");

/***/ }),

/***/ "./src/js/events.js":
/*!**************************!*\
  !*** ./src/js/events.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _calendars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calendars */ \"./src/js/calendars.js\");\n/* harmony import */ var _dates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dates */ \"./src/js/dates.js\");\n/* harmony import */ var _history__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./history */ \"./src/js/history.js\");\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selection */ \"./src/js/selection.js\");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./settings */ \"./src/js/settings.js\");\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    eventID: 0,\n\n    init() {\n        // Add new event\n        $(document).on('click', '.events-wrap .add', () => {\n            this.newEvent();\n            return false;\n        });\n\n        // Rename event\n        $(document).on('input', '.events-wrap ul span', e => {\n            const $el = $(e.target);\n            this.renameEvent($el);\n        });\n\n        // Insert event instances\n        $(document).on('click', '.events-wrap ul li', e => {\n            const $el = $(e.target);\n            if ($el.is('.tools') || $el.parents().is('.tools')) return;\n\n            const $event = $el.closest('li');\n            this.insertEvent($event);\n        });\n\n        // Open dropdown menu\n        $(document).on('click', '.events-wrap ul li [data-tool=\"dropdown\"]', e => {\n            // Close any open dropdown menu\n            $('.dropdown.visible').removeClass('visible');\n\n            const $dropdown = $(e.target).closest('li').find('.dropdown');\n            $dropdown.toggleClass('visible');\n            e.stopPropagation();\n        });\n\n        // Click outside\n        $(document).on('click', e => {\n            // Close dropdown menu\n            $('.dropdown.visible').removeClass('visible');\n\n            if ($(e.target).parents().is('[data-tool=\"dropdown\"], .dropdown')) return;\n\n            // Remove contenteditable attr\n            $('.events-wrap ul li .title[contenteditable]').removeAttr('contenteditable');\n        });\n\n        // Rename event\n        $(document).on('click', '.events-wrap ul li [data-tool=\"rename\"]', e => {\n            const $title = $(e.target).closest('li').find('span.title');\n            $title.attr('contenteditable', 'true').focus();\n\n            const setEndOfContenteditable = (contentEditableElement) => {\n                let range = document.createRange();\n                range.selectNodeContents(contentEditableElement);\n                range.collapse(false);\n                let selection = window.getSelection();\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n\n            setEndOfContenteditable($title[0]);\n\n            // Close dropdown menu\n            $('.dropdown.visible').removeClass('visible');\n\n            // Prevent li click\n            return false;\n        });\n\n        // // Selected event\n        // $(document).on('mousedown', '.events-wrap ul li', e => {\n        //     $('.events-wrap ul li.selected').removeClass('selected');\n        //     $(e.target).closest('li').addClass('selected');\n        // });\n\n        this.newEvent(['Workout', 'Tennis', 'Jogging']);\n    },\n\n    newEvent(events) {\n        if (!Array.isArray(events)) events = [events];\n\n        for (const event of events) {\n            const type = parseInt($('.events-wrap ul li').length);\n            const li = `<li data-type=\"${type}\" class=\"sortable\" style=\"background-color: ${_settings__WEBPACK_IMPORTED_MODULE_4__[\"default\"].eventsColors[type]}\">\n                <span class=\"title\" ${!event ? 'contenteditable' : ''} spellcheck=\"false\">${event ? event : ''}</span>\n                <span class=\"tools\">\n                    <i class=\"fas fa-angle-down\" data-tool=\"dropdown\"></i>\n                    <i data-tool=\"sort\">⋮⋮</i>\n                    <span class=\"dropdown\">\n                        <span data-tool=\"rename\"><i class=\"fas fa-pen\"></i> Rename</span>\n                        <span data-tool=\"delete\"><i class=\"far fa-trash-alt\"></i> Delete</span>\n                    </span>\n                </span>\n            </li>`;\n\n            const $ul = $('.events-wrap ul');\n            $ul.append(li);\n\n            // Select new event\n            $ul.find('li.selected').removeClass('selected');\n            $ul.find('li:last-child').addClass('selected');\n\n            // Focus span if empty\n            if (!event) $ul.find('li:last-child .title').focus();\n        }\n    },\n\n    renameEvent($el) {\n        const val = $el.text();\n        const type = $el.closest('li').attr('data-type');\n\n        $(`.event[data-type=\"${type}\"] span`).text(val);\n    },\n\n    insertEvent($event) {\n        const type = $event.attr('data-type');\n    \n        const selectedDaysEvents = _selection__WEBPACK_IMPORTED_MODULE_3__[\"default\"].selectedDays.map(d => {\n            const date = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(d);\n            return $(`.calendar-wrap .day[data-date=\"${date}\"] .event`).attr('data-type');\n        });\n    \n        if (_settings__WEBPACK_IMPORTED_MODULE_4__[\"default\"].oneEventPerDay && selectedDaysEvents.every(e => e === type)) {\n            // If only one event per day and same type, remove event and don't recreate one\n            for (const day of _selection__WEBPACK_IMPORTED_MODULE_3__[\"default\"].selectedDays) {\n                const date = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(day);\n                const $events = $(`.calendars-wrap .calendar.selected .day[data-date=\"${date}\"] .event, .calendar-wrap .day[data-date=\"${date}\"] .event`);\n                $events.remove();\n            }\n        } else {\n            const action = {\n                type: 'addEvents',\n                events: []\n            };\n    \n            for (const day of _selection__WEBPACK_IMPORTED_MODULE_3__[\"default\"].selectedDays) {\n                const date = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(day);\n                const $events = $(`.calendars-wrap .calendar.selected .day[data-date=\"${date}\"] .event, .calendar-wrap .day[data-date=\"${date}\"] .event`);\n\n                // Remove existing event if one event per day only\n                if (_settings__WEBPACK_IMPORTED_MODULE_4__[\"default\"].oneEventPerDay) $events.remove();\n                    \n                const $day = $(`.calendar-wrap .day[data-date=\"${date}\"]`);\n                \n                const event = {\n                    id: this.eventID++,\n                    calendar: parseInt($('.calendars-wrap .calendar.selected').attr('data-id')),\n                    type: type,\n                    title: $event.find('.title').text(),\n                    color: $event.css('background-color'),\n                    start: $day.attr('data-date'),\n                    end: $day.attr('data-date')\n                };\n    \n                action.events.push(event);\n        \n                this.buildEvent(event);\n            }\n    \n            _history__WEBPACK_IMPORTED_MODULE_2__[\"default\"].pushAction(action);\n        }\n    },\n\n    buildEvent(event) {\n        const [start, end] = [new Date(event.start), new Date(event.end)].sort((a, b) => a > b ? 1 : -1);\n\n        const date = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(start);\n\n        const days = [start, end];\n\n        const $el = $(`.calendar[data-id=\"${event.calendar}\"]`).length ? $(`.calendar[data-id=\"${event.calendar}\"] .day[data-date=\"${date}\"] .events`) : $(`.calendar.selected .day[data-date=\"${date}\"] .events, .calendar-wrap .day[data-date=\"${date}\"] .events`);\n\n        console.log($el);\n\n        // Add event\n        let classname = ' start end';\n        $el.append(`<div data-id=\"${event.id}\" data-type=\"${event.type}\" class=\"event${classname}\" style=\"background-color: ${event.color}\">${classname.includes('start') ? `<span class=\"title\">${event.title}</span>` : ''}</div>`);\n\n        _calendars__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateCalendarHeight();\n    },\n\n    removeEvent(event) {\n        $(`.event[data-id=\"${event.id}\"]`).remove();\n        _calendars__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateCalendarHeight();\n    }\n});\n\n//# sourceURL=webpack:///./src/js/events.js?");

/***/ }),

/***/ "./src/js/history.js":
/*!***************************!*\
  !*** ./src/js/history.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events */ \"./src/js/events.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    actions: [],\n    actionsIndex: 0,\n\n    pushAction(action) {\n        this.actions.length = this.actionsIndex;\n        this.actions.push(action);\n        this.actionsIndex += 1;\n    },\n\n    undo() {\n        if (this.actionsIndex - 1 < 0) return;\n        this.actionsIndex -= 1;\n        const action = this.actions[this.actionsIndex];\n\n        if (action.type === 'addEvents') for (const event of action.events) _events__WEBPACK_IMPORTED_MODULE_0__[\"default\"].removeEvent(event);\n        else if (action.type === 'removeEvents') for (const event of action.events) _events__WEBPACK_IMPORTED_MODULE_0__[\"default\"].buildEvent(event);\n    },\n\n    redo() {\n        if (this.actionsIndex + 1 > this.actions.length) return;\n        const action = this.actions[this.actionsIndex];\n        if (action.type === 'addEvents') for (const event of action.events) _events__WEBPACK_IMPORTED_MODULE_0__[\"default\"].buildEvent(event);\n        else if (action.type === 'removeEvents') for (const event of action.events) _events__WEBPACK_IMPORTED_MODULE_0__[\"default\"].removeEvent(event);\n\n        this.actionsIndex += 1;\n    }\n});\n\n//# sourceURL=webpack:///./src/js/history.js?");

/***/ }),

/***/ "./src/js/inputs.js":
/*!**************************!*\
  !*** ./src/js/inputs.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _history__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./history */ \"./src/js/history.js\");\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./selection */ \"./src/js/selection.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    init() {\n        // Shortcuts\n        $(document).on('keydown', e => {\n            // Disable custom shortcuts when editing a contenteditable\n            if ($(e.target).is('[contenteditable]')) return;\n\n            const ctrlOrMeta = e.metaKey || e.ctrlKey;\n\n            if ([37, 38, 39, 40].includes(e.which)) {                           // Arrow keys\n                e.preventDefault();\n                _selection__WEBPACK_IMPORTED_MODULE_1__[\"default\"].moveSelection(e);\n            }\n            else if (e.which === 8) _selection__WEBPACK_IMPORTED_MODULE_1__[\"default\"].emptySelection();                 // Backspace\n            else if (ctrlOrMeta && e.which === 65) _selection__WEBPACK_IMPORTED_MODULE_1__[\"default\"].selectAll();       // A\n            else if (ctrlOrMeta && e.which === 67) _selection__WEBPACK_IMPORTED_MODULE_1__[\"default\"].copySelection();   // C\n            else if (ctrlOrMeta && e.which === 86) _selection__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pasteSelection();  // V\n            else if (ctrlOrMeta && e.which === 88) _selection__WEBPACK_IMPORTED_MODULE_1__[\"default\"].cutSelection();    // X\n            else if (ctrlOrMeta && e.which === 90) {                            // Z\n                e.preventDefault();\n                if (e.shiftKey) _history__WEBPACK_IMPORTED_MODULE_0__[\"default\"].redo();\n                else _history__WEBPACK_IMPORTED_MODULE_0__[\"default\"].undo();\n            }\n        });\n\n        // Enter key in contenteditable: blur\n        $(document).on('keypress', '[contenteditable]', e => {\n            if (e.which === 13) {\n                const $el = $(e.target);\n                $el.blur();\n\n                // If leaving an event title, remove contenteditable\n                if ($el.is('.title')) $el.removeAttr('contenteditable');\n\n                // Remove selection if any\n                window.getSelection().removeAllRanges();\n            }\n        });\n\n        // // Click on contenteditable: select all\n        // $(document).on('click', '[contenteditable]', e => {\n        //     document.execCommand('selectAll', false, null);\n        // });\n\n        // // Tab to contenteditable: select all\n        // $(document).on('keyup', '[contenteditable]', e => {\n        //     if (e.which === 9) document.execCommand('selectAll', false, null);\n        // });\n    }\n});\n\n//# sourceURL=webpack:///./src/js/inputs.js?");

/***/ }),

/***/ "./src/js/main.js":
/*!************************!*\
  !*** ./src/js/main.js ***!
  \************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _calendars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calendars */ \"./src/js/calendars.js\");\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events */ \"./src/js/events.js\");\n/* harmony import */ var _inputs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./inputs */ \"./src/js/inputs.js\");\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selection */ \"./src/js/selection.js\");\n/* harmony import */ var _sortable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sortable */ \"./src/js/sortable.js\");\n\n\n\n\n\n\n$(document).ready(() => {\n    _calendars__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init();\n    _events__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init();\n    _inputs__WEBPACK_IMPORTED_MODULE_2__[\"default\"].init();\n    _selection__WEBPACK_IMPORTED_MODULE_3__[\"default\"].init();\n    _sortable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].init();\n});\n\n//# sourceURL=webpack:///./src/js/main.js?");

/***/ }),

/***/ "./src/js/selection.js":
/*!*****************************!*\
  !*** ./src/js/selection.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _calendars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calendars */ \"./src/js/calendars.js\");\n/* harmony import */ var _dates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dates */ \"./src/js/dates.js\");\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events */ \"./src/js/events.js\");\n/* harmony import */ var _history__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./history */ \"./src/js/history.js\");\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    selectedDays: [],\n    clipboard: [],\n\n    init() {\n        // Click on a day in main calendar\n        $(document).on('mousedown', '.calendar-wrap .day', e => {\n            this.onCalendarClick(e);\n        });\n\n        // Mouse enters a day on calendar\n        $(document).on('mouseenter', '.calendar-wrap .day', e => {\n            if (this.selectedDays.length) this.dragSelect(e);\n            // if (!event.title || !settings.spreadOnDrag) return;\n            // event.end = $(e.target).closest('.day').attr('data-date');\n\n            // buildEvent();\n        });\n\n        // $(document).on('mouseup', '.day', e => {\n        //     // event = { id: event.id + 1 };\n        // });\n    },\n\n    onCalendarClick(e) {\n        const $day = $(e.target).closest('.day');\n        const date = $day.attr('data-date');\n\n        if (e.metaKey && !e.shiftKey && !e.altKey) {\n            $('.selected-first').removeClass('selected-first');\n            $day.addClass('selected-first');\n\n            if (_dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isInArray(this.selectedDays, new Date(date))) {\n                this.selectedDays = this.selectedDays.filter(d => d.getTime() !== new Date(date).getTime());\n            } else {\n                this.selectedDays.push(new Date(date));\n            }\n        } else if (e.shiftKey) {\n            const $selectedFirst = $('.calendar-wrap .day.selected-first').length ? $('.calendar-wrap .day.selected-first') : $('.calendar-wrap .day.selected').eq(0);\n            $selectedFirst.addClass('selected-first');\n\n            const _selectedDays = [new Date($selectedFirst.attr('data-date')), new Date(date)];\n\n            const lowestWeekDay = Math.min(..._selectedDays.map(d => d.getDay()).map(w => w === 0 ? 7 : w));\n            const highestWeekDay = Math.max(..._selectedDays.map(d => d.getDay()).map(w => w === 0 ? 7 : w));\n\n            const [start, end] = [new Date($selectedFirst.attr('data-date')), new Date($day.attr('data-date'))].sort((a, b) => a > b ? 1 : -1);\n\n            start.setDate(start.getDate() - ((start.getDay() === 0 ? 7 : start.getDay()) - lowestWeekDay));\n            end.setDate(end.getDate() + (highestWeekDay - (end.getDay() === 0 ? 7 : end.getDay())));\n            \n            let days = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].range(start, end);\n\n            // Filter out days out of rectangle\n            days = days.filter(d => (d.getDay() === 0 ? 7 : d.getDay()) >= lowestWeekDay && (d.getDay() === 0 ? 7 : d.getDay()) <= highestWeekDay);\n\n            if (e.metaKey) this.selectedDays.push(...days);\n            else this.selectedDays = days;\n        } else if (e.altKey) {\n            const $selectedFirst = $('.calendar-wrap .day.selected-first').length ? $('.calendar-wrap .day.selected-first') : $('.calendar-wrap .day.selected').eq(0);\n            $selectedFirst.addClass('selected-first');\n\n            const [start, end] = [new Date($selectedFirst.attr('data-date')), new Date($day.attr('data-date'))].sort((a, b) => a > b ? 1 : -1);\n\n            const days = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].range(start, end);\n\n            if (e.metaKey) this.selectedDays.push(...days);\n            else this.selectedDays = days;\n        } else {\n            if (this.selectedDays.length && this.selectedDays[0].getTime() === new Date(date).getTime()) {\n                this.selectedDays = []; \n            } else {\n                this.selectedDays = [new Date(date)]; \n                $('.calendar-wrap .day.selected-first').removeClass('selected-first');\n                $('.calendar-wrap .day.selected-last').removeClass('selected-last');\n                $day.addClass('selected-first selected-last');\n            }\n        }\n\n        this.highlightSelection();\n    },\n\n    dragSelect(e) {\n        if (e.which !== 1) return;\n\n        const $day = $(e.target).closest('.day');\n        const date = $day.attr('data-date');\n\n        const $selectedFirst = $('.calendar-wrap .day.selected-first').length ? $('.calendar-wrap .day.selected-first') : $('.calendar-wrap .day.selected').eq(0);\n        $selectedFirst.addClass('selected-first');\n\n\n        let days = [];\n\n        if (e.metaKey) {\n            this.selectedDays.push(new Date(date));\n        } else {\n            const _selectedDays = [new Date($selectedFirst.attr('data-date')), new Date(date)];\n\n            const lowestWeekDay = Math.min(..._selectedDays.map(d => d.getDay()).map(w => w === 0 ? 7 : w));\n            const highestWeekDay = Math.max(..._selectedDays.map(d => d.getDay()).map(w => w === 0 ? 7 : w));\n        \n            const [start, end] = [new Date($selectedFirst.attr('data-date')), new Date($day.attr('data-date'))].sort((a, b) => a > b ? 1 : -1);\n            \n            start.setDate(start.getDate() - ((start.getDay() === 0 ? 7 : start.getDay()) - lowestWeekDay));\n            end.setDate(end.getDate() + (highestWeekDay - (end.getDay() === 0 ? 7 : end.getDay())));\n            \n            days = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].range(start, end);\n        \n            // Filter out days out of rectangle\n            if (!e.altKey) days = days.filter(d => (d.getDay() === 0 ? 7 : d.getDay()) >= lowestWeekDay && (d.getDay() === 0 ? 7 : d.getDay()) <= highestWeekDay);\n        }   \n\n        if (!$selectedFirst.hasClass('selected')) {\n            const date = $day.attr('data-date');\n            this.selectedDays = this.selectedDays.filter(d => d.getTime() !== new Date(date).getTime());\n        } else {\n            if (e.metaKey) this.selectedDays.push(...days);\n            else this.selectedDays = days;\n        }\n\n        this.highlightSelection();\n    },\n\n    moveSelection(e) {\n        // Ignore if no selection\n        const $selected = $('.calendar-wrap .day.selected-last');\n        if (!$selected.length) return;\n    \n        let target;\n        const date = new Date($selected.attr('data-date'));\n    \n        if (e.which === 37) {\n            if (e.metaKey) {\n                // Meta + left: beginning of week\n                target = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].relativeFirstWeekDay(date);\n            } else {\n                // Left: one day before\n                target = new Date(date.setDate(date.getDate() - 1));\n        \n                // Prevent changing week with shift key\n                if (target.getDay() === 0 && e.shiftKey) return;\n            }\n        } else if (e.which === 38) {\n            // Up: one week before\n            target = new Date(date.setDate(date.getDate() - 7));\n        } else if (e.which === 39) {\n            if (e.metaKey) {\n                // Meta + right: end of week\n                target = new Date(date.setDate(date.getDay() === 0 ? date.getDate() : (date.getDate() + 7 - date.getDay())));\n            } else {\n                // Right: one day after\n                target = new Date(date.setDate(date.getDate() + 1));\n        \n                // Prevent changing week with shift key\n                if (target.getDay() === 1 && e.shiftKey) return;\n            }\n        } else if (e.which === 40) {\n            // Down: one week after\n            target = new Date(date.setDate(date.getDate() + 7));\n        }\n    \n        if (e.shiftKey) {\n            const $selectedFirst = $('.selected-first');\n            $('.selected-last').removeClass('selected-last');\n    \n            const targetDate = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(target);\n            const $target = $(`.calendar-wrap .day[data-date=\"${targetDate}\"]`);\n            $target.addClass('selected-last');\n    \n            this.selectedDays = [new Date($selectedFirst.attr('data-date')), new Date(targetDate)];\n    \n            const lowestWeekDay = Math.min(...this.selectedDays.map(d => d.getDay()).map(w => w === 0 ? 7 : w));\n            const highestWeekDay = Math.max(...this.selectedDays.map(d => d.getDay()).map(w => w === 0 ? 7 : w));\n    \n            const [start, end] = [new Date($selectedFirst.attr('data-date')), new Date(target)].sort((a, b) => a > b ? 1 : -1);\n    \n            start.setDate(start.getDate() - ((start.getDay() === 0 ? 7 : start.getDay()) - lowestWeekDay));\n            end.setDate(end.getDate() + (highestWeekDay - (end.getDay() === 0 ? 7 : end.getDay())));\n            \n            let days = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].range(start, end);\n    \n            // Filter out days out of rectangle\n            days = days.filter(d => (d.getDay() === 0 ? 7 : d.getDay()) >= lowestWeekDay && (d.getDay() === 0 ? 7 : d.getDay()) <= highestWeekDay);\n    \n            this.selectedDays = days;\n        } else if (e.altKey) {\n            const $selectedFirst = $('.selected-first');\n            $('.selected-last').removeClass('selected-last');\n    \n            const targetDate = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(target);\n            const $target = $(`.calendar-wrap .day[data-date=\"${targetDate}\"]`);\n            $target.addClass('selected-last');\n    \n            const [start, end] = [new Date($selectedFirst.attr('data-date')), new Date(target)].sort((a, b) => a > b ? 1 : -1);\n    \n            const days = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].range(start, end);\n    \n            this.selectedDays = days;\n        } else {\n            const date = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(target);\n            const $target = $(`.calendar-wrap .day[data-date=\"${date}\"]`);\n            $('.selected-first').removeClass('selected-first');\n            $('.selected-last').removeClass('selected-last');\n            $target.addClass('selected-first selected-last');\n            \n            this.selectedDays = [target];\n        }\n    \n        this.highlightSelection();\n    },\n\n    emptySelection() {\n        // Create action for history\n        const action = {\n            type: 'removeEvents',\n            events: []\n        };\n    \n        for (const day of this.selectedDays) {\n            const date = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(day);\n            const $event = $(`.calendar-wrap .day[data-date=\"${date}\"] .event`);\n            if (!$event.length) continue;\n\n            // Save event in action\n            const event = {\n                id: _events__WEBPACK_IMPORTED_MODULE_2__[\"default\"].eventID++,\n                calendar: parseInt($('.calendars-wrap .calendar.selected').attr('data-id')),\n                type: $event.attr('data-type'),\n                title: $event.find('.title').text(),\n                color: $event.css('background-color'),\n                start: date,\n                end: date\n            };\n    \n            action.events.push(event);\n\n            // Remove event from main calendar\n            $event.remove();\n    \n            // Remove event from thumbnail calendar\n            $(`.calendars-wrap .calendar.selected .day[data-date=\"${date}\"] .event`).remove();\n        }\n    \n        // Save action in history\n        _history__WEBPACK_IMPORTED_MODULE_3__[\"default\"].pushAction(action);\n\n        _calendars__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateCalendarHeight();\n    },\n    \n    selectAll() {\n        const start = new Date($('#start').val());\n        const end = new Date($('#end').val());\n\n        this.selectedDays = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].range(start, end);\n\n        this.highlightSelection();\n    },\n        \n    copySelection() {\n        this.clipboard = [];\n    \n        // Find selection's bounding rectangle\n        let start = new Date(Math.min(...this.selectedDays));\n        let end = new Date(Math.max(...this.selectedDays));\n\n        const lowestWeekDay = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findLowestWeekDay(this.selectedDays);\n        const highestWeekDay = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findHighestWeekDay(this.selectedDays);\n    \n        start.setDate(start.getDate() - ((start.getDay() === 0 ? 7 : start.getDay()) - lowestWeekDay));\n        end.setDate(end.getDate() + (highestWeekDay - (end.getDay() === 0 ? 7 : end.getDay())));\n    \n        // Create range from start to end of bounding rectangle\n        let days = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].range(start, end);\n    \n        // Filter out days out of bounding rectangle\n        days = days.filter(d => (d.getDay() === 0 ? 7 : d.getDay()) >= lowestWeekDay && (d.getDay() === 0 ? 7 : d.getDay()) <= highestWeekDay);\n    \n        // Create array of events for selected days, keep null for an empty day\n        const events = [];\n        for (const day of days) {\n            // Ignore unselected days\n            if (!_dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isInArray(this.selectedDays, day)) {\n                events.push(null);\n                continue;\n            };\n    \n            const date = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(day);\n            const $events = $(`.calendar-wrap .day[data-date=\"${date}\"] .event`);\n    \n            // Copy day events to clipboard\n            if ($events.length) {\n                $events.each((id, el) => {\n                    const $el = $(el);\n        \n                    const event = {\n                        // id: \n                        type: $el.attr('data-type'),\n                        title: $el.find('.title').text(),\n                        color: $el.css('background-color'),\n                        // start: $el.attr('data-start'),\n                        // end: $el.attr('data-end')\n                    }\n        \n                    events.push(event);\n                });\n            } else {\n                events.push(null);\n            }\n        }\n    \n        // Convert 1D array of events to 2D array to mimic selection bounding rectangle layout\n        while (events.length) this.clipboard.push(events.splice(0, highestWeekDay - lowestWeekDay + 1));\n    },\n    \n    cutSelection() {\n        this.copySelection();\n        this.emptySelection();\n    },\n    \n    pasteSelection() {\n        // Clipboard paste starts at selected day\n        const $selected = $('.calendar-wrap .day.selected-first');\n        const date = new Date($selected.attr('data-date'));\n    \n        for (let j = 0; j < this.clipboard.length; j += 1) {\n            for (let i = 0; i < this.clipboard[0].length; i += 1) {\n                // Find event in clipboard if any\n                const _event = this.clipboard[j][i];\n                if (!_event) continue;\n    \n                // Find target day\n                const target = new Date(new Date(date).setDate(date.getDate() + j * 7 + i));\n                const _date = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(target);\n    \n                // Create event\n                const event = { ..._event };\n                event.start = _date;\n                event.end = _date;\n        \n                _events__WEBPACK_IMPORTED_MODULE_2__[\"default\"].buildEvent(event);\n            }\n        }\n    },\n\n    highlightSelection() {\n        // Reset all currently selected days\n        $('.day.selected').removeClass('selected no-top no-right no-bottom no-left');\n\n        for (const day of this.selectedDays) {\n            const date = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(day);\n            const $el = $(`.day[data-date=\"${date}\"]`);\n\n            // Select day\n            $el.addClass('selected');\n            \n            // Add styles classes (for borders)\n            const dayBeforeSelected = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isInArray(this.selectedDays, _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].relativeDate(day, -1));\n            const dayAfterSelected = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isInArray(this.selectedDays, _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].relativeDate(day, 1));\n            const dayWeekBeforeSelected = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isInArray(this.selectedDays, _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].relativeDate(day, -7));\n            const dayWeekAfterSelected = _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isInArray(this.selectedDays, _dates__WEBPACK_IMPORTED_MODULE_1__[\"default\"].relativeDate(day, 7));\n\n            if (dayWeekBeforeSelected) $el.addClass('no-top');\n            if (dayAfterSelected && day.getDay() !== 0) $el.addClass('no-right');\n            if (dayWeekAfterSelected) $el.addClass('no-bottom');\n            if (dayBeforeSelected && day.getDay() !== 1) $el.addClass('no-left');\n        }\n    }\n});\n\n//# sourceURL=webpack:///./src/js/selection.js?");

/***/ }),

/***/ "./src/js/settings.js":
/*!****************************!*\
  !*** ./src/js/settings.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    spreadOnDrag: false,\n    oneEventPerDay: false,\n    eventsColors: ['#1d6c99', '#c2761f', '#109210', '#8a2e82', '#c56a94']\n});\n\n//# sourceURL=webpack:///./src/js/settings.js?");

/***/ }),

/***/ "./src/js/sortable.js":
/*!****************************!*\
  !*** ./src/js/sortable.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    $sortedEl: null,\n    sortedPosition: {},\n    sortedOrigin: {},\n\n    init() {\n        $(document).on('mousedown', '.sortable i[data-tool=\"sort\"]', e => {\n            this.startSort(e);\n        });\n        \n        $(document).on('mouseup', e => {\n            if (this.$sortedEl) this.stopSort(e);\n        });\n        \n        $(document).on('mousemove', e => {\n            if (this.$sortedEl) this.sort(e);\n        });\n    },\n    \n    startSort(e) {\n        const $icon = $(e.target);\n        this.$sortedEl = $icon.closest('.sortable');\n        \n        // Ignore sort if only child\n        if (this.$sortedEl.is(':only-child')) return;\n    \n        this.sortedPosition = this.$sortedEl.position();\n        \n        this.sortedOrigin = {\n            x: e.clientX,\n            y: e.clientY\n        };\n    \n        $icon.css('cursor', 'grabbing');\n    \n        this.$sortedEl.css('zIndex', '1');\n    \n        const $parent = this.$sortedEl.parent();\n    \n        this.$sortedEl.parent().css({\n            'width': $parent.outerWidth(),\n            'height': $parent.outerHeight()\n        });\n    \n        $parent.children().each((id, el) => {\n            const $el = $(el);\n            $el.css({\n                'top': $el.position().top,\n                'left': $el.position().left,\n                'width': $el.outerWidth(),\n                'height': $el.outerHeight()\n            });\n        });\n    \n        $parent.children().each((id, el) => {\n            $(el).css('position', 'absolute');\n        });\n    },\n    \n    sort(e) {\n        const deltaX = e.clientX - this.sortedOrigin.x;\n        const deltaY = e.clientY - this.sortedOrigin.y;\n    \n        this.$sortedEl.css({\n            'top': Math.min(Math.max(this.sortedPosition.top + deltaY, this.$sortedEl.parent().offset().top), this.$sortedEl.parent().offset().top + this.$sortedEl.parent().outerHeight() - this.$sortedEl.outerHeight()),\n            // 'left': this.sortedPosition.left + deltaX\n        });\n    \n        this.$sortedEl.nextAll().each((id, el) => {\n            const $el = $(el);\n            if (this.$sortedEl.position().top + this.$sortedEl.outerHeight() > $el.position().top + $el.outerHeight() / 2) {\n                $el.css('top', $el.position().top - this.$sortedEl.outerHeight(true));\n                this.$sortedEl.before($el);\n            }\n        });\n    \n        this.$sortedEl.prevAll().each((id, el) => {\n            const $el = $(el);\n            if (this.$sortedEl.position().top < $el.position().top + $el.outerHeight() / 2) {\n                this.$sortedEl.after($el);\n                $el.css('top', $el.position().top + this.$sortedEl.outerHeight(true));\n            }\n        });\n    },\n    \n    stopSort(e) {\n        this.$sortedEl.css({\n            'cursor': '',\n            'zIndex': ''\n        });\n        \n        const $parent = this.$sortedEl.parent();\n    \n        this.$sortedEl.parent().css({\n            'width': '',\n            'height': ''\n        });\n    \n        $parent.children().each((id, el) => {\n            const $el = $(el);\n            $el.css({\n                'top': '',\n                'left': '',\n                'width': '',\n                'height': ''\n            });\n        });\n    \n        $parent.children().each((id, el) => {\n            $(el).css('position', '');\n        });\n    \n        this.$sortedEl = null;\n    }\n});\n\n//# sourceURL=webpack:///./src/js/sortable.js?");

/***/ })

/******/ });